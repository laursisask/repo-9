"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@rjsf/core"),t=require("semantic-ui-react"),r=require("react"),a=require("@rjsf/utils"),n=require("nanoid"),i=require("lodash/map");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=l(r),u=l(i);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},d.apply(this,arguments)}function s(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)t.indexOf(r=i[a])>=0||(n[r]=e[r]);return n}var c=["uiSchema","registry","color"];function m(e){var r=e.color,a=s(e,c);return o.default.createElement(t.Button,d({title:"Add Item",color:r},a,{icon:!0,size:"tiny"}),o.default.createElement(t.Icon,{name:"plus"}))}var p=["wrap","component"];function f(e){var t=e.formContext,r=e.uiSchema,n=e.options,i=void 0===n?{}:n,l=e.defaultSchemaProps,o=void 0===l?{fluid:!0,inverted:!1}:l,u=e.defaultContextProps,s=void 0===u?{}:u,c=(void 0===t?{}:t).semantic,m=a.getUiOptions(void 0===r?{}:r).semantic,p=i.semantic;return Object.assign({},d({},o),d({},s),m,p,c)}function h(e,t){void 0===t&&(t=[]);var r=e.filter(Boolean).reduce((function(e,t){return e.concat(t.trim().split(/\s+/))}),[]);return[].concat(new Set(r.filter((function(e){return!t.includes(e)})))).join(" ")}function v(e){var t=e.wrap,r=e.component,a=void 0===r?"div":r,n=s(e,p);return t?o.default.createElement(a,d({},n)):n.children}var y=function(e){return{display:"grid",gridTemplateColumns:"1fr "+(e?65:110)+"px"}};function g(e){var r=e.children,n=e.disabled,i=e.hasToolbar,l=e.hasMoveDown,u=e.hasMoveUp,s=e.hasRemove,c=e.index,m=e.onDropIndexClick,p=e.onReorderClick,f=e.readonly,h=e.uiSchema,g=e.registry,b=g.templates.ButtonTemplates,E=b.MoveDownButton,S=b.MoveUpButton,x=b.RemoveButton,F=a.getUiOptions(h).semantic,C=F.horizontalButtons,T=void 0!==C&&C,B=F.wrapItem;return o.default.createElement("div",{className:"array-item"},o.default.createElement(v,{wrap:void 0!==B&&B,component:t.Segment},o.default.createElement(t.Grid,{style:0!==c?d({},y(!T),{alignItems:"center"}):y(!T)},o.default.createElement(t.Grid.Column,{width:16,verticalAlign:"middle"},r),i&&o.default.createElement(t.Grid.Column,null,(u||l||s)&&o.default.createElement(t.Button.Group,{size:"mini",vertical:!T},(u||l)&&o.default.createElement(S,{className:"array-item-move-up",disabled:n||f||!u,onClick:p(c,c-1),uiSchema:h,registry:g}),(u||l)&&o.default.createElement(E,{className:"array-item-move-down",disabled:n||f||!l,onClick:p(c,c+1),uiSchema:h,registry:g}),s&&o.default.createElement(x,{className:"array-item-remove",disabled:n||f,onClick:m(c),uiSchema:h,registry:g}))))))}var b=["key","uiSchema"];function E(e){var t=e.uiSchema,r=e.idSchema,n=e.canAdd,i=e.className,l=e.disabled,u=e.items,c=e.onAddClick,m=e.readonly,p=e.required,v=e.schema,y=e.title,g=e.registry,E=f({uiSchema:t,formContext:e.formContext,defaultSchemaProps:{horizontalButtons:!1,wrapItem:!1}}),S={horizontalButtons:E.horizontalButtons,wrapItem:E.wrapItem},x=a.getUiOptions(t),F=a.getTemplate("ArrayFieldDescriptionTemplate",g,x),C=a.getTemplate("ArrayFieldItemTemplate",g,x),T=a.getTemplate("ArrayFieldTitleTemplate",g,x),B=g.templates.ButtonTemplates.AddButton;return o.default.createElement("div",{className:h([i,a.isFixedItems(v)?"":"sortable-form-fields"])},o.default.createElement(T,{idSchema:r,title:x.title||y,schema:v,uiSchema:t,required:p,registry:g}),o.default.createElement(F,{idSchema:r,description:x.description||v.description,schema:v,uiSchema:t,registry:g}),o.default.createElement("div",{key:"array-item-list-"+r.$id},o.default.createElement("div",{className:"row array-item-list"},u&&u.map((function(e){var t,r=e.key,n=e.uiSchema,i=void 0===n?{}:n,l=s(e,b),u=d({},i,((t={})[a.UI_OPTIONS_KEY]=d({},i[a.UI_OPTIONS_KEY],{semantic:S}),t));return o.default.createElement(C,d({key:r},l,{uiSchema:u}))}))),n&&o.default.createElement("div",{style:{marginTop:"1rem",position:"relative",textAlign:"right"}},o.default.createElement(B,{onClick:c,disabled:l||m,uiSchema:t,registry:g}))))}function S(e){var r=e.id,n=e.placeholder,i=e.label,l=e.value,u=e.required,s=e.readonly,c=e.disabled,m=e.onChange,p=e.onBlur,h=e.onFocus,v=e.autofocus,y=e.options,g=e.schema,b=e.uiSchema,E=e.formContext,S=e.registry,x=e.rawErrors,F=void 0===x?[]:x,C=a.getInputProps(g,e.type,y),T=f({uiSchema:b,formContext:E,options:y}),B=S.schemaUtils.getDisplayLabel(g,b);return o.default.createElement(o.default.Fragment,null,o.default.createElement(t.Form.Input,d({key:r,id:r,name:r,placeholder:n},C,{label:!!B&&(i||g.title),required:u,autoFocus:v,disabled:c||s,list:g.examples?a.examplesId(r):void 0},T,{value:l||0===l?l:"",error:F.length>0,onChange:function(e){var t=e.target.value;return m(""===t?y.emptyValue:t)},onBlur:function(){return p&&p(r,l)},onFocus:function(){return h&&h(r,l)},"aria-describedby":a.ariaDescribedByIds(r,!!g.examples)})),Array.isArray(g.examples)&&o.default.createElement("datalist",{id:a.examplesId(r)},g.examples.concat(g.default&&!g.examples.includes(g.default)?[g.default]:[]).map((function(e){return o.default.createElement("option",{key:e,value:e})}))))}function x(e){var t=e.description;return t?o.default.createElement("p",{id:e.id,className:"sui-description"},t):null}function F(e){var r=e.errors;return o.default.createElement(t.Message,{negative:!0},o.default.createElement(t.Message.Header,null,"Errors"),o.default.createElement(t.Message.List,null,r.map((function(e,r){return o.default.createElement(t.Message.Item,{key:"error-"+r},e.stack)}))))}var C=["icon","iconType","color","className","uiSchema","registry"];function T(e){var r=e.icon,a=e.iconType,n=e.color,i=e.className,l=s(e,C);return o.default.createElement(t.Button,d({icon:r,size:a,color:n,className:i},l))}function B(e){return o.default.createElement(T,d({title:"Move down"},e,{icon:"angle down"}))}function I(e){return o.default.createElement(T,d({title:"Move up"},e,{icon:"angle up"}))}function w(e){return o.default.createElement(T,d({title:"Remove"},e,{icon:"trash"}))}var O={options:{pointing:"above",size:"small"}};function k(e){var r=e.errors,i=e.idSchema,l=function(e){var t=e.formContext,r=void 0===t?{}:t,n=e.uiSchema,i=e.options,l=void 0===i?{}:i,o=e.defaultProps,u=void 0===o?{size:"small",pointing:"above"}:o,s=r.semantic&&r.semantic.errorOptions,c=a.getUiOptions(void 0===n?{}:n).semantic,m=c&&c.errorOptions,p=l.semantic&&l.semantic.errorOptions;return Object.assign({},d({},u),m,p,s)}({formContext:e.registry.formContext,uiSchema:e.uiSchema,defaultProps:O});return r&&r.length>0?o.default.createElement(t.Label,{id:i.$id+"__error",color:"red",pointing:l.pointing||"above",size:l.size||"small",basic:!0},o.default.createElement(t.List,{bulleted:!0},r.map((function(e){return o.default.createElement(t.List.Item,{key:n.nanoid()},e)})))):null}function A(e){var r=e.help;return r?o.default.createElement(t.Message,{size:"mini",info:!0,id:e.idSchema.$id+"__help",content:r}):null}var D=["id","children","classNames","style","displayLabel","label","errors","help","hidden","rawDescription","registry","schema","uiSchema"];function q(e){var r=e.id,n=e.children,i=e.classNames,l=e.style,u=e.displayLabel,c=e.label,m=e.errors,p=e.help,h=e.hidden,y=e.rawDescription,g=e.registry,b=e.schema,E=e.uiSchema,S=s(e,D),x=f(S),F=x.wrapLabel,C=x.wrapContent,T=a.getUiOptions(E),B=a.getTemplate("WrapIfAdditionalTemplate",g,T),I=a.getTemplate("DescriptionFieldTemplate",g,T);return h?o.default.createElement("div",{style:{display:"none"}},n):o.default.createElement(B,d({classNames:i,style:l,id:r,label:c,registry:g,schema:b,uiSchema:E},S),o.default.createElement(t.Form.Group,{key:r,widths:"equal",grouped:!0},o.default.createElement(v,{wrap:C,className:"sui-field-content"},n,u&&y&&o.default.createElement(v,{wrap:F,className:"sui-field-label"},y&&o.default.createElement(I,{id:a.descriptionId(r),description:y,schema:b,uiSchema:E,registry:g})),p,m)))}function N(e){var r=e.description,n=e.onAddClick,i=e.title,l=e.properties,u=e.disabled,d=e.readonly,s=e.required,c=e.uiSchema,m=e.schema,p=e.formData,f=e.idSchema,h=e.registry,v=a.getUiOptions(c),y=a.getTemplate("TitleFieldTemplate",h,v),g=a.getTemplate("DescriptionFieldTemplate",h,v),b=h.templates.ButtonTemplates.AddButton,E=v.title||i,S=v.description||r;return o.default.createElement(o.default.Fragment,null,E&&o.default.createElement(y,{id:a.titleId(f),title:E,required:s,schema:m,uiSchema:c,registry:h}),S&&o.default.createElement(g,{id:a.descriptionId(f),description:S,schema:m,uiSchema:c,registry:h}),l.map((function(e){return e.content})),a.canExpand(m,c,p)&&o.default.createElement(t.Grid.Column,{width:16,verticalAlign:"middle"},o.default.createElement(t.Grid.Row,null,o.default.createElement("div",{style:{marginTop:"1rem",position:"relative",textAlign:"right"}},o.default.createElement(b,{onClick:n(m),disabled:u||d,uiSchema:c,registry:h})))))}function P(e){var r=a.getSubmitButtonOptions(e.uiSchema),n=r.submitText,i=r.props;return r.norender?null:o.default.createElement(t.Button,d({type:"submit",primary:!0},void 0===i?{}:i),n)}var G={inverted:!1,dividing:!0};function M(e){var r=e.id,a=e.title,n=f({uiSchema:e.uiSchema,defaultSchemaProps:G});return a?o.default.createElement(t.Header,d({id:r},n,{as:"h5"}),a):null}function R(e){var r=e.children,n=e.classNames,i=e.style,l=e.disabled,u=e.id,d=e.label,s=e.onDropPropertyClick,c=e.onKeyChange,m=e.readonly,p=e.uiSchema,f=e.registry,h=f.templates.ButtonTemplates.RemoveButton,v=f.formContext,y=v.readonlyAsDisabled;return a.ADDITIONAL_PROPERTY_FLAG in e.schema?o.default.createElement("div",{className:n,style:i,key:u+"-key"},o.default.createElement(t.Grid,{columns:"equal"},o.default.createElement(t.Grid.Row,null,o.default.createElement(t.Grid.Column,{className:"form-additional"},o.default.createElement(t.Form.Group,{widths:"equal",grouped:!0},o.default.createElement(t.Form.Input,{className:"form-group",hasFeedback:!0,fluid:!0,htmlFor:""+u,label:d+" Key",required:e.required,defaultValue:d,disabled:l||(void 0===y||y)&&m,id:""+u,name:""+u,onBlur:m?void 0:function(e){return c(e.target.value)},style:v.wrapperStyle,type:"text"}))),o.default.createElement(t.Grid.Column,{className:"form-additional",verticalAlign:"middle"},r),o.default.createElement(t.Grid.Column,null,o.default.createElement(h,{iconType:"mini",className:"array-item-remove",disabled:l||m,onClick:s(d),uiSchema:p,registry:f}))))):o.default.createElement("div",{className:n,style:i},r)}function V(){return{ArrayFieldItemTemplate:g,ArrayFieldTemplate:E,BaseInputTemplate:S,ButtonTemplates:{AddButton:m,MoveDownButton:B,MoveUpButton:I,RemoveButton:w,SubmitButton:P},DescriptionFieldTemplate:x,ErrorListTemplate:F,FieldErrorTemplate:k,FieldHelpTemplate:A,FieldTemplate:q,ObjectFieldTemplate:N,TitleFieldTemplate:M,WrapIfAdditionalTemplate:R}}var U=V();function _(e){var r=e.id,n=e.value,i=e.disabled,l=e.readonly,u=e.label,s=e.autofocus,c=e.onChange,m=e.onBlur,p=e.onFocus,h=e.schema,v=e.rawErrors,y=void 0===v?[]:v,g=f({options:e.options,formContext:e.formContext,uiSchema:e.uiSchema,defaultSchemaProps:{inverted:!1}}),b=a.schemaRequiresTrueValue(h);return o.default.createElement(t.Form.Checkbox,d({id:r,name:r,disabled:i||l,autoFocus:s},g,{checked:void 0!==n&&("true"==n||1==n),error:y.length>0,onChange:function(e,t){return c&&c(t.checked)},onBlur:function(){return m&&m(r,n)},onFocus:function(){return p&&p(r,n)},required:b,label:u||"","aria-describedby":a.ariaDescribedByIds(r)}))}function j(e){var r=e.id,n=e.disabled,i=e.options,l=e.value,u=e.autofocus,s=e.readonly,c=e.onChange,m=e.onBlur,p=e.onFocus,h=e.formContext,v=e.schema,y=e.uiSchema,g=e.rawErrors,b=void 0===g?[]:g,E=e.registry,S=a.getTemplate("TitleFieldTemplate",E,i),x=i.enumOptions,F=i.enumDisabled,C=i.inline,T=Array.isArray(l)?l:[l],B=v.title,I=f({options:i,formContext:h,uiSchema:y,defaultSchemaProps:{inverted:!1}}),w=function(e){return function(t){c(t.target.checked?a.enumOptionsSelectValue(e,T,x):a.enumOptionsDeselectValue(e,T,x))}},O=function(){return m(r,l)},k=function(){return p(r,l)},A=C?{inline:!0}:{grouped:!0};return o.default.createElement(o.default.Fragment,null,B&&o.default.createElement(S,{id:a.titleId(r),title:B,schema:v,uiSchema:y,registry:E}),o.default.createElement(t.Form.Group,d({id:r,name:r},A),Array.isArray(x)&&x.map((function(e,i){var l=a.enumOptionsIsSelected(e.value,T),c=Array.isArray(F)&&-1!==F.indexOf(e.value);return o.default.createElement(t.Form.Checkbox,d({id:a.optionId(r,i),name:r,key:i,label:e.label},I,{checked:l,error:b.length>0,disabled:n||c||s,autoFocus:u&&0===i,onChange:w(i),onBlur:O,onFocus:k,"aria-describedby":a.ariaDescribedByIds(r)}))}))))}function z(e){var r=e.id,n=e.value,i=e.required,l=e.disabled,u=e.readonly,s=e.onChange,c=e.onBlur,m=e.onFocus,p=e.options,h=e.rawErrors,v=void 0===h?[]:h,y=p.enumOptions,g=p.enumDisabled,b=p.emptyValue,E=f({formContext:e.formContext,options:p,uiSchema:e.uiSchema}),S=function(e,t){return s(a.enumOptionsValueForIndex(t.value,y,b))},x=function(){return c(r,n)},F=function(){return m(r,n)};return o.default.createElement(t.Form.Group,d({},p.inline?{inline:!0}:{grouped:!0}),Array.isArray(y)&&y.map((function(e,s){var c=a.enumOptionsIsSelected(e.value,n),m=Array.isArray(g)&&-1!==g.indexOf(e.value);return o.default.createElement(t.Form.Field,d({required:i,control:t.Radio,id:a.optionId(r,s),name:r},E,{onFocus:F,onBlur:x,onChange:S,label:e.label,value:String(s),error:v.length>0,key:s,checked:c,disabled:l||m||u,"aria-describedby":a.ariaDescribedByIds(r)}))})))}function L(e){var r=e.id,n=e.value,i=e.required,l=e.readonly,u=e.disabled,s=e.onChange,c=e.onBlur,m=e.onFocus,p=e.options,h=e.schema,v=e.rawErrors,y=void 0===v?[]:v,g=f({formContext:e.formContext,options:p,uiSchema:e.uiSchema,defaultSchemaProps:{fluid:!0}});return o.default.createElement(o.default.Fragment,null,o.default.createElement(t.Input,d({id:r,key:r,name:r,type:"range",required:i,disabled:u||l},a.rangeSpec(h),g,{value:n||"",error:y.length>0,onChange:function(e){var t=e.target.value;return s&&s(""===t?p.emptyValue:t)},onBlur:function(){return c&&c(r,n)},onFocus:function(){return m&&m(r,n)},"aria-describedby":a.ariaDescribedByIds(r)})),o.default.createElement("span",null,n))}function W(e){var r=e.schema,n=e.id,i=e.options,l=e.label,s=e.required,c=e.disabled,m=e.readonly,p=e.value,h=e.multiple,v=e.placeholder,y=e.autofocus,g=e.onChange,b=e.onBlur,E=e.onFocus,S=e.rawErrors,x=void 0===S?[]:S,F=f({uiSchema:e.uiSchema,formContext:e.formContext,options:i,defaultSchemaProps:{inverted:"false",selection:!0,fluid:!0,scrolling:!0,upward:!1}}),C=i.enumOptions,T=i.emptyValue,B=h?[]:"",I=function(e,t){var r=t||[];return u.default(e,(function(e,t){var a=e.label;return{disabled:-1!==r.indexOf(e.value),key:a,text:a,value:String(t)}}))}(C,i.enumDisabled),w=a.enumOptionsIndexForValue(p,C,h);return o.default.createElement(t.Form.Dropdown,d({key:n,id:n,name:n,label:l||r.title,multiple:void 0!==h&&h,value:void 0===p?B:w,error:x.length>0,disabled:c,placeholder:v},F,{required:s,autoFocus:y,readOnly:m,options:I,onChange:function(e,t){return g(a.enumOptionsValueForIndex(t.value,C,T))},onBlur:function(e,t){return b(n,a.enumOptionsValueForIndex(t.target.value,C,T))},onFocus:function(e,t){return E(n,a.enumOptionsValueForIndex(t.target.value,C,T))},"aria-describedby":a.ariaDescribedByIds(n)}))}function K(e){var r=e.id,n=e.placeholder,i=e.value,l=e.required,u=e.disabled,s=e.autofocus,c=e.label,m=e.readonly,p=e.onBlur,h=e.onFocus,v=e.onChange,y=e.options,g=e.schema,b=e.uiSchema,E=e.registry,S=e.rawErrors,x=void 0===S?[]:S,F=f({formContext:e.formContext,options:y,defaultSchemaProps:{inverted:!1}}),C=E.schemaUtils.getDisplayLabel(g,b);return o.default.createElement(t.Form.TextArea,d({id:r,key:r,name:r,label:!!C&&(c||g.title),placeholder:n,autoFocus:s,required:l,disabled:u||m},F,{value:i||"",error:x.length>0,rows:y.rows||5,onChange:function(e){var t=e.target.value;return v&&v(""===t?y.emptyValue:t)},onBlur:function(){return p&&p(r,i)},onFocus:function(){return h&&h(r,i)},"aria-describedby":a.ariaDescribedByIds(r)}))}function H(){return{CheckboxWidget:_,CheckboxesWidget:j,RadioWidget:z,RangeWidget:L,SelectWidget:W,TextareaWidget:K}}var Y=H();function $(){return{templates:V(),widgets:H(),_internalFormWrapper:t.Form}}var J=$();function Q(){return e.withTheme($())}var X=Q();exports.Form=X,exports.Templates=U,exports.Theme=J,exports.Widgets=Y,exports.default=X,exports.generateForm=Q,exports.generateTemplates=V,exports.generateTheme=$,exports.generateWidgets=H;
//# sourceMappingURL=semantic-ui.cjs.production.min.js.map
